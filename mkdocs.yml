# GuardKit - MkDocs Configuration
# Generated by: TASK-C5AC
# Date: 2025-11-27
# Documentation: https://www.mkdocs.org/ | https://squidfunk.github.io/mkdocs-material/

# ============================================================================
# Site Metadata
# ============================================================================
site_name: GuardKit
site_description: AI-assisted development with built-in quality gates
site_url: https://guardkit.github.io/guardkit/
repo_url: https://github.com/guardkit/guardkit
repo_name: guardkit/guardkit
edit_uri: edit/main/docs/
copyright: Copyright &copy; 2025 GuardKit

# ============================================================================
# Theme Configuration - Material for MkDocs
# ============================================================================
theme:
  name: material

  # Color Scheme Toggle (Light/Dark)
  palette:
    # Light mode
    - media: "(prefers-color-scheme: light)"
      scheme: default
      primary: indigo
      accent: amber
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode

    # Dark mode
    - media: "(prefers-color-scheme: dark)"
      scheme: slate
      primary: indigo
      accent: amber
      toggle:
        icon: material/brightness-4
        name: Switch to light mode

  # Material Features (8+ enabled)
  features:
    - navigation.instant        # Instant loading (no page refresh)
    - navigation.sections       # Section grouping in sidebar
    - navigation.tabs          # Top-level tabs
    - navigation.top           # Back to top button
    - navigation.tracking      # Anchor tracking in URL
    - search.suggest           # Search suggestions
    - search.highlight         # Highlight search results
    - content.code.copy        # Copy button for code blocks
    - content.code.annotate    # Code annotations support

  # Logo and Favicon
  icon:
    logo: material/library
    repo: fontawesome/brands/github

# ============================================================================
# Navigation Structure
# Based on TASK-957C documentation organization plan
# Max 3 levels deep
# ============================================================================
nav:
  - Home: index.md

  - Getting Started:
      - Quick Start: guides/GETTING-STARTED.md
      - GuardKit Workflow: guides/guardkit-workflow.md

  - Core Concepts: concepts.md

  - Advanced Topics: advanced.md

  - Templates: templates.md

  - Agent System: agents.md

  - Task Review: task-review.md

  - Troubleshooting: troubleshooting.md

  - Guides:
      - GuardKit Workflow: guides/guardkit-workflow.md
      - Agent Discovery: guides/agent-discovery-guide.md
      - Agent Enhancement Decision: guides/agent-enhancement-decision-guide.md
      - Creating Local Templates: guides/creating-local-templates.md
      - Template Philosophy: guides/template-philosophy.md
      - Template Validation: guides/template-validation-guide.md
      - Rules Structure: guides/rules-structure-guide.md
      - Progressive Disclosure: guides/progressive-disclosure.md
      - Hash-Based ID Parallel Development: guides/hash-id-parallel-development.md
      - Hash-Based IDs and PM Tools: guides/hash-id-pm-tools.md
      - System Overview: guides/system-overview-guide.md
      - Impact Analysis: guides/impact-analysis-guide.md
      - Context Switch: guides/context-switch-guide.md

  - Workflows:
      - Complexity Management: workflows/complexity-management-workflow.md
      - Design-First Workflow: workflows/design-first-workflow.md
      - Incremental Enhancement: workflows/incremental-enhancement-workflow.md
      - Quality Gates: workflows/quality-gates-workflow.md
      - Task Review Workflow: workflows/task-review-workflow.md

  - Deep Dives:
      - AutoBuild Architecture: deep-dives/autobuild-architecture.md
      - Adversarial Cooperation Research: deep-dives/adversarial-cooperation-research-validation.md
      - Conductor Integration: deep-dives/conductor-integration.md
      - MCP Integration:
          - Context7 Setup: deep-dives/mcp-integration/context7-setup.md
          - Design Patterns Setup: deep-dives/mcp-integration/design-patterns-setup.md
          - MCP Optimization: deep-dives/mcp-integration/mcp-optimization.md

  - Knowledge Graph:
      - Overview: guides/graphiti-integration-guide.md
      - Setup: setup/graphiti-setup.md
      - Architecture: architecture/graphiti-architecture.md
      - Commands:
          - CLI Reference: guides/graphiti-commands.md
          - Add Context: guides/graphiti-add-context.md
          - Query Commands: guides/graphiti-query-commands.md
      - Features:
          - Interactive Capture: guides/graphiti-knowledge-capture.md
          - Job-Specific Context: guides/graphiti-job-context.md
          - Project Namespaces: guides/graphiti-project-namespaces.md
      - Reference:
          - Parsers: guides/graphiti-parsers.md
          - Turn State Tracking: guides/graphiti-turn-states.md
          - Relevance Tuning: guides/relevance-tuning-testing.md
          - Testing & Validation: guides/graphiti-testing-validation.md
          - Troubleshooting: guides/graphiti-context-troubleshooting.md


# ============================================================================
# Plugins
# ============================================================================
plugins:
  - search:
      lang: en
  - tags

# ============================================================================
# Markdown Extensions
# ============================================================================
markdown_extensions:
  # Core Extensions
  - admonition          # Note/warning boxes
  - tables              # GitHub-flavored tables
  - footnotes           # Footnote support
  - attr_list           # Add HTML/CSS attributes to elements
  - md_in_html          # Markdown inside HTML blocks

  # Table of Contents
  - toc:
      permalink: true   # Add permalink anchors to headings
      toc_depth: 3      # Max 3 levels in TOC

  # PyMdown Extensions - Code Highlighting
  - pymdownx.highlight:
      anchor_linenums: true
      line_spans: __span
      pygments_lang_class: true

  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format

  # PyMdown Extensions - Enhanced Markdown
  - pymdownx.inlinehilite   # Inline code highlighting
  - pymdownx.keys           # Keyboard key rendering
  - pymdownx.snippets       # Include external files

  - pymdownx.tabbed:
      alternate_style: true # Tabbed content blocks

  - pymdownx.tasklist:
      custom_checkbox: true # Task lists with checkboxes

# ============================================================================
# Extra Configuration
# ============================================================================
extra:
  # Social Links
  social:
    - icon: fontawesome/brands/github
      link: https://github.com/guardkit/guardkit
      name: GuardKit on GitHub

  # Code Language Support
  code:
    languages:
      - python
      - typescript
      - javascript
      - bash
      - yaml
      - json
      - markdown

# ============================================================================
# Exclusions - Internal Artifacts
# ============================================================================
exclude_docs: |
  tasks/
  .claude/
  installer/
  adr/
  adrs/
  analysis/
  archive/
  checklists/
  checkpoints/
  code-review/
  completion-reports/
  data-contracts/
  debugging/
  decisions/
  design/
  epics/
  fixes/
  implementation/
  implementation-plans/
  implementation-summaries/
  initiatives/
  investigations/
  migration/
  patterns/
  planning/
  proposals/
  quick-reference/
  reference/
  requirements-gathering-api/
  research/
  reviews/
  schemas/
  shared/
  state/
  testing/
  tests/
  test_reports/
  validation/
